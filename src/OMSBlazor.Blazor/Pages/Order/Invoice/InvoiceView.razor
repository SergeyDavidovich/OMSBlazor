@using OMSBlazor.Blazor.Components
@using System.IO
@using System.Reflection
@inject IJSRuntime JsRuntime

<StupeniCard Title="Invoice" Icon="@Icons.Material.Filled.Pages" IsWithButton="false">
    @if (arr.Length == 0)
    {
        <MudTextField T="string" Class="align-content-center justify-center" Text="If you create order or choose order from journal it will be viewed here" AutoGrow MaxLines="3" Variant="Variant.Text" Disabled="true" />
    }
    else
    {   
        <embed src="@GetPdf()" width="100%" height="100%"/>
    }
</StupeniCard>

@code{
    byte[] arr = Array.Empty<byte>();

    private string GetPdf()
    {
        return "data:application/pdf;base64," + Convert.ToBase64String(arr);
    }

    public void ShowPdf(byte[] arr)
    {
        this.arr = arr;
        StateHasChanged();
    }
}
