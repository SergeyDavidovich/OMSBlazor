@using OMSBlazor.Blazor.Components
@using ReactiveUI.Blazor
@inherits ReactiveComponentBase<OrderStasticsViewModel>

<StupeniCard Title="Orders" IsWithButton="false">
    <MudGrid>
        <MudItem xs="12" lg="3" md="3">
            <MudPaper Class="d-flex flex-column align-center p-2">
                <MudChart ChartType="MudBlazor.ChartType.Pie"
                          InputData="@ViewModel!.OrdersByCountries.Select(x=>x.OrdersCount).Select(x=>(double)x).ToArray()"
                          InputLabels="@ViewModel!.OrdersByCountries.Select(x=>x.CountryName).ToArray()">
                </MudChart>
                <MudText>Orders by countries (top 10)</MudText>
            </MudPaper>
        </MudItem>
        <MudItem xs="12" lg="3" md="3">
            <MudPaper Class="d-flex flex-column align-center p-2">
                <MudChart ChartType="MudBlazor.ChartType.Pie"
                          InputData="@ViewModel!.SalesByCategories.Select(x=>x.Sales).Select(x=>(double)x).ToArray()"
                          InputLabels="@ViewModel!.SalesByCategories.Select(x=>x.CategoryName).ToArray()">
                </MudChart>
                <MudText>Sales by categories</MudText>
            </MudPaper>
        </MudItem>
        <MudItem xs="12" lg="3" md="3">
            <MudPaper Class="d-flex flex-column">
                <MudTextField T="string" Text="Summary">
                </MudTextField>
                <MudTextField T="string" Disabled="true" @bind-Value="OverallSalesValue">
                </MudTextField>
                <MudTextField T="string" Disabled="true" @bind-Value="OrdersQuantityValue">
                </MudTextField>
                <MudTextField T="string" Disabled="true" @bind-Value="AverageCheckValue">
                </MudTextField>
                <MudTextField T="string" Disabled="true" @bind-Value="MaxCheckValue">
                </MudTextField>
                <MudTextField T="string" Disabled="true" @bind-Value="MinCheckValue">
                </MudTextField>
            </MudPaper>
        </MudItem>
        <MudItem xs="12">
            <MudPaper Class="d-flex flex-column align-center p-2" Width="100%">
                <MudChart ChartType="MudBlazor.ChartType.Bar" ChartSeries="series" XAxisLabels="xLabels" Width="100%"></MudChart>
                <MudText>Sales by countries</MudText>
            </MudPaper>
        </MudItem>
    </MudGrid>
</StupeniCard>

@code {
    string OverallSalesValue;
    string OrdersQuantityValue;
    string AverageCheckValue;
    string MaxCheckValue;
    string MinCheckValue;
}
